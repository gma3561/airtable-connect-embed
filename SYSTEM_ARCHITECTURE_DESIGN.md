# ë¶€ë™ì‚° ë§¤ë¬¼ ê´€ë¦¬ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ì„¤ê³„ì„œ

## ğŸ“‹ ê°œìš”

**ì‹œìŠ¤í…œëª…**: Airtable Connect Embed - ë¶€ë™ì‚° ë§¤ë¬¼ ê´€ë¦¬ ì‹œìŠ¤í…œ  
**ë²„ì „**: 1.0.0  
**ì‘ì„±ì¼**: 2025-08-16  
**ëª©ì **: ë¶€ë™ì‚° ë§¤ë¬¼ì˜ ì²´ê³„ì  ê´€ë¦¬, ê²€ìƒ‰, ê´‘ê³  ê´€ë¦¬ë¥¼ ìœ„í•œ ì›¹ ê¸°ë°˜ ì‹œìŠ¤í…œ

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend (React + TypeScript)             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Components    â”‚   State Management â”‚    Services     â”‚  â”‚
â”‚  â”‚  - PropertyTableâ”‚  - React Query     â”‚ - supabaseApi   â”‚  â”‚
â”‚  â”‚  - PropertyForm â”‚  - URL Sync        â”‚ - Auth Service  â”‚  â”‚
â”‚  â”‚  - FiltersPanel â”‚  - Custom Hooks    â”‚                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Backend (Node.js + Express)               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Controllers   â”‚     Services      â”‚  Repositories   â”‚  â”‚
â”‚  â”‚ - PropertyCtrl  â”‚ - PropertyService â”‚ - SupabaseRepo  â”‚  â”‚
â”‚  â”‚ - AuthCtrl      â”‚ - AuthService     â”‚                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ PostgreSQL Protocol
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Database (Supabase PostgreSQL)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    Tables       â”‚  Row Level Securityâ”‚    Indexes      â”‚  â”‚
â”‚  â”‚ - properties    â”‚  - User policies   â”‚ - Search idx    â”‚  â”‚
â”‚  â”‚ - users         â”‚  - Role policies   â”‚ - Performance   â”‚  â”‚
â”‚  â”‚ - advertisementsâ”‚  - Data policies   â”‚                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê¸°ìˆ  ìŠ¤íƒ

#### Frontend
- **Framework**: React 18 + TypeScript
- **Routing**: React Router v6
- **State Management**: React Query (TanStack Query)
- **Styling**: Tailwind CSS
- **Form Management**: Native React (controlled components)
- **Build Tool**: Vite
- **Testing**: Playwright

#### Backend
- **Runtime**: Node.js
- **Framework**: Express.js
- **Language**: TypeScript
- **Database**: Supabase (PostgreSQL)
- **Authentication**: Supabase Auth
- **ORM**: Supabase Client

#### Infrastructure
- **Hosting**: Vercel (Frontend) + Supabase (Backend)
- **CDN**: Vercel Edge Network
- **CI/CD**: GitHub Actions

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### ì£¼ìš” í…Œì´ë¸” êµ¬ì¡°

#### 1. properties (ë§¤ë¬¼ ì •ë³´)
```sql
CREATE TABLE properties (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  -- ê¸°ë³¸ ì •ë³´
  property_name TEXT NOT NULL,
  property_type TEXT,
  transaction_type TEXT,
  property_status TEXT,
  
  -- ìœ„ì¹˜ ì •ë³´
  address TEXT,
  building_dong TEXT,
  building_ho TEXT,
  
  -- ê°€ê²© ì •ë³´
  price TEXT,
  rental_amount TEXT,
  rental_type TEXT,
  
  -- ë©´ì  ì •ë³´
  area_supply_sqm TEXT,
  area_exclusive_sqm TEXT,
  area_supply_py TEXT,
  area_exclusive_py TEXT,
  
  -- ê¸°íƒ€ ì •ë³´
  floor TEXT,
  floors_total TEXT,
  agent TEXT,
  shared_status BOOLEAN,
  registration_date DATE,
  
  -- ë©”íƒ€ë°ì´í„°
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### 2. users (ì‚¬ìš©ì ì •ë³´)
```sql
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name TEXT NOT NULL,
  email TEXT NOT NULL UNIQUE,
  role TEXT CHECK (role IN ('admin', 'marketing', 'backoffice', 'agent')),
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### 3. advertisements (ê´‘ê³  ì •ë³´)
```sql
CREATE TABLE advertisements (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  property_id UUID REFERENCES properties(id),
  ad_number TEXT NOT NULL,
  ad_status TEXT,
  ad_platform TEXT,
  backoffice_user_id UUID REFERENCES users(id),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

### ì¸ë±ìŠ¤ ì „ëµ
- ê²€ìƒ‰ ìµœì í™”: property_name, address, building_dong
- í•„í„°ë§ ìµœì í™”: property_type, transaction_type, property_status
- ì¡°ì¸ ìµœì í™”: property_id, user_id

## ğŸ”§ ì£¼ìš” ì»´í¬ë„ŒíŠ¸ ì„¤ê³„

### Frontend ì»´í¬ë„ŒíŠ¸

#### 1. PropertyTable
- **ëª©ì **: ë§¤ë¬¼ ëª©ë¡ì„ í…Œì´ë¸” í˜•íƒœë¡œ í‘œì‹œ
- **ì£¼ìš” ê¸°ëŠ¥**:
  - ë°˜ì‘í˜• í…Œì´ë¸” ë ˆì´ì•„ì›ƒ
  - ì •ë ¬ ê°€ëŠ¥í•œ ì»¬ëŸ¼
  - í´ë¦­ ê°€ëŠ¥í•œ í–‰ (ìƒì„¸ ë³´ê¸°)
  - ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤
  - ë¹ˆ ìƒíƒœ ì²˜ë¦¬

#### 2. PropertyForm
- **ëª©ì **: ìƒˆ ë§¤ë¬¼ ë“±ë¡
- **ì£¼ìš” ê¸°ëŠ¥**:
  - 16ê°œ ì„¹ì…˜ì˜ ì…ë ¥ í¼
  - ì‹¤ì‹œê°„ ìœ íš¨ì„± ê²€ì‚¬
  - ë“œë¡­ë‹¤ìš´/ì²´í¬ë°•ìŠ¤/í…ìŠ¤íŠ¸ ì…ë ¥
  - í¼ ì´ˆê¸°í™” ë° ì œì¶œ

#### 3. FiltersPanel
- **ëª©ì **: ë§¤ë¬¼ ê²€ìƒ‰ ë° í•„í„°ë§
- **ì£¼ìš” ê¸°ëŠ¥**:
  - ì‹¤ì‹œê°„ ê²€ìƒ‰ (ë™, ë§¤ë¬¼ëª…)
  - ë‹¤ì¤‘ í•„í„° (ì¢…ë¥˜, ìœ í˜•, ìƒíƒœ, ë‹´ë‹¹ì)
  - URL ë™ê¸°í™”
  - í•„í„° ì´ˆê¸°í™”

#### 4. PropertyDetail
- **ëª©ì **: ë§¤ë¬¼ ìƒì„¸ ì •ë³´ í‘œì‹œ
- **ì£¼ìš” ê¸°ëŠ¥**:
  - ì „ì²´ ì •ë³´ í‘œì‹œ
  - ê¶Œí•œë³„ ì •ë³´ í‘œì‹œ
  - ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥
  - ì‚¬ì§„/ì˜ìƒ í‘œì‹œ

### Backend ì•„í‚¤í…ì²˜

#### ê³„ì¸µ êµ¬ì¡°
```
Server Layer
â”œâ”€â”€ HTTP Controllers (ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬)
â”œâ”€â”€ Service Layer (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
â”œâ”€â”€ Repository Layer (ë°ì´í„° ì ‘ê·¼)
â””â”€â”€ Infrastructure Layer (ì™¸ë¶€ ì„œë¹„ìŠ¤)
```

#### Domain Models
- Property: ë§¤ë¬¼ ë„ë©”ì¸ ëª¨ë¸
- User: ì‚¬ìš©ì ë„ë©”ì¸ ëª¨ë¸
- SearchQuery: ê²€ìƒ‰ ì¿¼ë¦¬ ëª¨ë¸

## ğŸ”’ ë³´ì•ˆ ì„¤ê³„

### ì¸ì¦ ë° ê¶Œí•œ

#### ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´ (RBAC)
```
Admin (ê´€ë¦¬ì)
â”œâ”€â”€ ëª¨ë“  ë°ì´í„° ì½ê¸°/ì“°ê¸°
â”œâ”€â”€ ì‚¬ìš©ì ê´€ë¦¬
â””â”€â”€ ì‹œìŠ¤í…œ ì„¤ì •

Marketing (ë§ˆì¼€íŒ…)
â”œâ”€â”€ ë§¤ë¬¼ ë“±ë¡/ìˆ˜ì •
â”œâ”€â”€ ê´‘ê³  í˜„í™© ì¡°íšŒ
â””â”€â”€ ë§ˆì¼€íŒ… ìë£Œ ì ‘ê·¼

BackOffice (ë°±ì˜¤í”¼ìŠ¤)
â”œâ”€â”€ ê´‘ê³  ë“±ë¡/ê´€ë¦¬
â”œâ”€â”€ ê´‘ê³  ë²ˆí˜¸ ì…ë ¥
â””â”€â”€ ê´‘ê³  í†µê³„ ì¡°íšŒ

Agent (ì¼ë°˜ ë‹´ë‹¹ì)
â”œâ”€â”€ ë‹´ë‹¹ ë§¤ë¬¼ ê´€ë¦¬
â”œâ”€â”€ ë§¤ë¬¼ ë“±ë¡
â””â”€â”€ ê¸°ë³¸ ì •ë³´ ì¡°íšŒ
```

### Row Level Security (RLS)
- properties: ê³µê°œ ì½ê¸°, ë‹´ë‹¹ìë³„ ìˆ˜ì •
- property_owners: ê´€ë¦¬ì ì „ìš©
- advertisements: ë°±ì˜¤í”¼ìŠ¤/ê´€ë¦¬ì ê´€ë¦¬

## ğŸš€ API ì„¤ê³„

### RESTful ì—”ë“œí¬ì¸íŠ¸

#### Properties
```
GET    /api/properties          # ë§¤ë¬¼ ëª©ë¡ ì¡°íšŒ
GET    /api/properties/:id      # ë§¤ë¬¼ ìƒì„¸ ì¡°íšŒ
POST   /api/properties          # ë§¤ë¬¼ ë“±ë¡
PUT    /api/properties/:id      # ë§¤ë¬¼ ìˆ˜ì •
DELETE /api/properties/:id      # ë§¤ë¬¼ ì‚­ì œ
```

#### Search
```
GET    /api/search              # í†µí•© ê²€ìƒ‰
GET    /api/search/filters      # í•„í„° ì˜µì…˜ ì¡°íšŒ
```

#### Users
```
POST   /api/auth/login          # ë¡œê·¸ì¸
POST   /api/auth/logout         # ë¡œê·¸ì•„ì›ƒ
GET    /api/users/me            # í˜„ì¬ ì‚¬ìš©ì ì •ë³´
```

### ìš”ì²­/ì‘ë‹µ í˜•ì‹

#### ëª©ë¡ ì¡°íšŒ ì‘ë‹µ
```typescript
interface PropertyListResponse {
  items: PropertyListItem[];
  total: number;
  page: number;
  pageSize: number;
}
```

#### ì—ëŸ¬ ì‘ë‹µ
```typescript
interface ErrorResponse {
  error: {
    code: string;
    message: string;
    details?: any;
  };
}
```

## ğŸ“Š ì„±ëŠ¥ ìµœì í™”

### Frontend ìµœì í™”
- ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… (ë¼ìš°íŠ¸ ê¸°ë°˜)
- ì´ë¯¸ì§€ ì§€ì—° ë¡œë”©
- React Query ìºì‹±
- ê°€ìƒ ìŠ¤í¬ë¡¤ (ëŒ€ëŸ‰ ë°ì´í„°)

### Backend ìµœì í™”
- ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ì‹±
- ì¿¼ë¦¬ ìµœì í™”
- ì—°ê²° í’€ë§
- ì‘ë‹µ ì••ì¶•

### ìºì‹± ì „ëµ
- ë¸Œë¼ìš°ì € ìºì‹±: ì •ì  ìì‚°
- API ìºì‹±: React Query (5ë¶„)
- ë°ì´í„°ë² ì´ìŠ¤ ìºì‹±: ìì£¼ ì‚¬ìš©ë˜ëŠ” í•„í„° ì˜µì…˜

## ğŸ”„ ë°ì´í„° íë¦„

### ë§¤ë¬¼ ì¡°íšŒ í”Œë¡œìš°
```
User â†’ PropertyList â†’ usePropertySearch â†’ supabaseApi â†’ Backend API â†’ Database
                           â†“
                    URL Sync (query params)
```

### ë§¤ë¬¼ ë“±ë¡ í”Œë¡œìš°
```
User â†’ PropertyForm â†’ Form Validation â†’ supabaseApi â†’ Backend API â†’ Database
                            â†“
                    Success: Navigate to list
                    Error: Show error message
```

## ğŸ“± ë°˜ì‘í˜• ì„¤ê³„

### ë¸Œë ˆì´í¬í¬ì¸íŠ¸
- Mobile: < 640px
- Tablet: 640px - 1024px
- Desktop: > 1024px

### ë°˜ì‘í˜• ì „ëµ
- ëª¨ë°”ì¼: ì¹´ë“œ ë ˆì´ì•„ì›ƒ
- íƒœë¸”ë¦¿: ì••ì¶•ëœ í…Œì´ë¸”
- ë°ìŠ¤í¬í†±: ì „ì²´ í…Œì´ë¸”

## ğŸš¦ ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

### ì—ëŸ¬ ì¶”ì 
- Frontend: Console errors â†’ Logging service
- Backend: Winston logger â†’ Log aggregation

### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
- Core Web Vitals
- API ì‘ë‹µ ì‹œê°„
- ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ì„±ëŠ¥

## ğŸ”® í–¥í›„ í™•ì¥ ê³„íš

### Phase 2 ê¸°ëŠ¥
- ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ
- ê³ ê¸‰ ë¶„ì„ ëŒ€ì‹œë³´ë“œ
- ëª¨ë°”ì¼ ì•± ê°œë°œ
- AI ê¸°ë°˜ ë§¤ë¬¼ ì¶”ì²œ

### ê¸°ìˆ ì  ê°œì„ 
- GraphQL ë„ì… ê²€í† 
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì „í™˜
- ì‹¤ì‹œê°„ ë™ê¸°í™” (WebSocket)
- ê³ ê¸‰ ìºì‹± (Redis)

## ğŸ“š ì°¸ê³  ë¬¸ì„œ

- [React ê³µì‹ ë¬¸ì„œ](https://react.dev)
- [Supabase ë¬¸ì„œ](https://supabase.com/docs)
- [TypeScript í•¸ë“œë¶](https://www.typescriptlang.org/docs/)
- [Tailwind CSS](https://tailwindcss.com/docs)

---

*ì´ ë¬¸ì„œëŠ” ë¶€ë™ì‚° ë§¤ë¬¼ ê´€ë¦¬ ì‹œìŠ¤í…œì˜ ê¸°ìˆ ì  ì„¤ê³„ë¥¼ ë‹´ê³  ìˆìœ¼ë©°, ê°œë°œ ì§„í–‰ì— ë”°ë¼ ì—…ë°ì´íŠ¸ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.*