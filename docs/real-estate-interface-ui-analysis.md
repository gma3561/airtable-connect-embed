## 더부동산 임시매물장 — UI 상세 분석

본 문서는 제공된 두 장의 스크린샷을 바탕으로 실제 화면 구성을 최대한 세밀하게 역설계한 결과입니다. 이후 코드 수정 시 기준 사양으로 사용합니다.

### 1) 화면 개요

- **화면 ID**: Interface › 더부동산 임시매물장
- **핵심 레이아웃**: 좌측 메인 리스트(테이블) + 우측 디테일 슬라이드 패널(행 선택 시 오픈)
- **상단 바**: 좌측에 브레드크럼(Interface › …), 우측에 `Filter` 버튼, `Sort` 버튼(활성화 수 배지 표기: 예 `Sort 1`), 검색 아이콘(`🔍`)
- **리스트 형태**: 다열 테이블, 컬럼 헤더 고정, 세로 스크롤 긴 목록. 각 행에는 다수의 배지(pill)와 텍스트 혼합.
- **디테일 패널**: 우측에서 슬라이드 인, 헤더에 매물명 제목과 우측 상단 액션(수정/닫기 추정) 아이콘.

### 2) 상단 툴바(필터/정렬/검색)

- **브레드크럼**: `Interface › 더부동산 임시매물장`
- **필터 그룹(좌측부터)**
  - **매물종류**: 아파트/빌라·연립/오피스텔/단독주택/토지/재건축/재개발/상가 등
  - **거래유형**: 매매/전세/월세/렌트
  - **매물상태**: 거래가능/매물확인됨/거래완료 등 상태 배지 기반 필터
- **우측 컨트롤**
  - **Filter**: 다중 조건 패널 열림(추정). 현재 필터 수 배지 표기 없음 또는 별도 표기 가능성.
  - **Sort**: 현재 정렬 규칙 수를 배지로 표시(예: `1`).
  - **Search 아이콘**: 키워드 검색(매물명/주소 등) 진입(추정).

### 3) 테이블 컬럼 구조(좌→우)

순서는 스크린샷 기준이며, 실제 구현 시 숨김/가변 컬럼 가능성 있음.

1. **등록일**: 예) `2025-08-12` — 날짜 형식 YYYY-MM-DD
2. **공유여부/검증**: 초록 체크 아이콘(체크=공유/검증 완료 추정)
3. **담당자**: 예) `성문이`, `서지혜`, `정선혜`, `대표매물` 등 — 담당자명 또는 라벨
4. **매물상태**: 배지 — `거래가능`, `매물확인됨`, `거래완료` 등
5. **매물종류**: 배지 — `아파트`, `빌라/연립`, `오피스텔`, `단독주택`, `토지`, `재건축`, `재개발` 등
6. **거래유형**: 배지 — `매매`, `전세`, `월세`, `렌트`
7. **금액**: 형식 상이 —
   - 매매: 숫자+단위, 예 `45억`, `80억`
   - 전세: 예 `20억`
   - 월세: 예 `2억/600` (보증금/월세)
   - 렌트: 예 `2,100/700` (보증금/월세)
8. **매물명(간단명)**: 예 `동일파크스위트`, `건영빌라`, `공신아파트` 등
9. **동**: 숫자 또는 문자, 예 `-`, `101`, `A`, `B`
10. **호**: 호수, 예 `801`, `201`, `1303` 등
11. **공급/전용(㎡)**: 예 `171.19㎡/148.75㎡`
12. **공급/전용(평)**: 예 `51.78평/44.99평`
13. **해당동/층·총층**: 예 `8/13층`, `3/3층`, `1/6층` 등(건물 내 해당 층수/전체 층수)

보조 관찰:
- 일부 행은 `층`, `동`, `호`가 `-`로 비어 있을 수 있음(미기입/비공개 상태).
- 배지 색상은 유형별로 고정 팔레트(예: 상태/종류/유형마다 서로 다른 컬러)로 보임.

### 4) 행 상호작용

- **행 클릭 시**: 우측 디테일 패널 오픈.
- **선택 상태 표시**: 선택된 행 하이라이트(색상 또는 테두리) 가능성. 스크린샷에서는 명확히 보이지 않음.
- **정렬/필터 적용**: 헤더 클릭 정렬 가능성, 상단 `Sort` 버튼으로 복합 정렬 지원(추정).

### 5) 우측 디테일 패널(슬라이드 인)

- **패널 헤더**
  - 좌측: 매물명(예: `동일파크스위트`)
  - 우측: 아이콘 2개(접기/즐겨찾기/수정/닫기 등 용도 추정)
- **메타 필드(상단 요약 블록)**
  - `공유여부`: 체크 표시(공유됨)
  - `담당자`: 배지(예: `성문이`)
  - `매물상태`: 배지(예: `거래가능`)
- **상세 필드 목록**
  - `재등록사유`: 텍스트 또는 `-`(미기입)
  - `매물종류`: 배지(예: `아파트`)
  - `매물명`: 텍스트(예: `동일파크스위트`)
  - `동`: 텍스트 또는 `-`
  - `호`: 텍스트(예: `801`)
  - `소재지`: 주소(예: `삼성동 100-14`)
  - `거래유형`: 배지(예: `매매`)
  - `광고상태`: `-` 또는 상태값
  - `공동연락처`: `-` 또는 연락처
  - `공동중개`: `-` 또는 여부
  - `영상`: `X` (없음)
  - `사진`: `X` (없음)
  - `계약기간`: 기간 텍스트(없을 수 있음)
  - `임차금액`: 금액(월세/전세 상황에 따라 표시)
  - `임차유형`: 유형 텍스트(없을 수 있음)
  - `거주자`: 거주 형태/메모
  - `거래완료날짜`: 날짜(완료 시)
  - `담당자MEMO`: 다중 줄 텍스트(핵심 포인트, 학교, 인근 편의 등)
  - `특이사항`: 다중 줄 텍스트(상세 설명)

### 6) 데이터 타입 사전(요약)

- **날짜**: `YYYY-MM-DD`
- **여부**: boolean(체크/미체크) 또는 `X`
- **배지 값**: enum(매물종류/거래유형/상태)
- **금액**: 문자열 표기(억/만원 단위 혼합), 월세는 `보증금/월세`
- **면적**: `number㎡/number㎡`, `number평/number평`
- **층수**: `현재층/전체층` (정수/정수)
- **주소**: 문자열
- **메모/특이사항**: 장문 문자열

### 7) UI 컴포넌트 분해(권장 매핑)

- **Breadcrumb**: `InterfaceBreadcrumb`
- **Toolbar**: `FiltersToolbar`
  - `Select` × 3: 매물종류/거래유형/매물상태
  - `FilterButton`, `SortButton`, `SearchButton`
- **Table**: `PropertyTable`
  - `TableHeader`(고정), `TableRow`, `Badge`, `AmountCell`, `AreaCell`, `FloorCell`
- **DetailDrawer**: `PropertyDetailDrawer`
  - `Header(Title + Actions)`
  - `MetaBadges(공유여부/담당자/상태)`
  - `FieldList(2-col or 1-col responsive)`

### 8) 상호작용/상태 흐름

- **필터 변경** → 리스트 재조회(쿼리 파라미터 동기화 권장)
- **정렬 변경** → 리스트 재조회(정렬 기준/방향 보존)
- **행 선택** → 디테일 패널 오픈, 선택 ID 기반 상세 조회
- **디테일 닫기** → 패널 닫힘, 리스트 상태 유지

### 9) 반응형/스크롤

- **테이블**: 가로 컬럼 다수로 데스크톱 최적화. 모바일/태블릿에서는 컬럼 축소 또는 카드형 전환 필요.
- **세로 스크롤**: 무한 스크롤 또는 페이지네이션. 스크린샷상 페이지네이션 컨트롤은 보이지 않음(무한 스크롤 가능성 높음).
- **디테일 패널**: 독립 스크롤(패널 내부 스크롤바 확인).

### 10) 배지 및 색상 체계(관찰 기반)

- **상태 배지**: 거래가능(청록), 매물확인됨(주황/회색 변형), 거래완료(회색/연한색)
- **종류 배지**: 아파트/빌라·연립/오피스텔/단독주택/토지 등 각각 고유 색상
- **유형 배지**: 매매/전세/월세/렌트 각각 고유 색상
- 색상은 정보군별 일관성 유지(시각적 스캔 효율 향상)

### 11) 필드 매핑 표(테이블 ↔ 디테일)

- 등록일 ↔ (디테일에는 명시 없음, 메타로 포함 가능)
- 공유여부/검증(체크) ↔ 공유여부
- 담당자 ↔ 담당자
- 매물상태 ↔ 매물상태
- 매물종류 ↔ 매물종류
- 거래유형 ↔ 거래유형
- 금액 ↔ 임차금액/매매가(필드 통합 필요)
- 매물명(간단) ↔ 매물명(정식)
- 동/호 ↔ 동/호
- 공급/전용(㎡, 평) ↔ (디테일에는 면적 필드 미노출, 확장 필요)
- 해당동/층·총층 ↔ (디테일에는 층수 미노출, 확장 필요)
- 소재지 ↔ 소재지(테이블에는 없음, 디테일에서만 노출)
- 사진/영상/광고/공동중개/연락처/메모/특이사항 ↔ 디테일 전용

### 12) 제안 데이터 모델(프론트)

```ts
type ListingStatus = '거래가능' | '매물확인됨' | '거래완료' | '기타';
type ListingKind = '아파트' | '빌라/연립' | '오피스텔' | '단독주택' | '토지' | '재건축' | '재개발' | '상가' | '기타';
type DealType = '매매' | '전세' | '월세' | '렌트';

interface ListingRow {
  id: string;
  registeredAt: string; // YYYY-MM-DD
  shared: boolean; // 체크 아이콘
  agentName: string;
  status: ListingStatus;
  kind: ListingKind;
  dealType: DealType;
  amountLabel: string; // 예: "45억", "2억/600"
  title: string; // 매물명 간단표기
  buildingBlock?: string; // 동
  unitNumber?: string; // 호
  areaSupplySqm?: number;
  areaExclusiveSqm?: number;
  areaSupplyPy?: number;
  areaExclusivePy?: number;
  floor?: number; // 현재층
  floorsTotal?: number; // 총층
}

interface ListingDetail extends ListingRow {
  address?: string;
  adStatus?: string;
  coBrokerContact?: string;
  coBrokerEnabled?: boolean;
  hasVideo?: boolean;
  hasPhoto?: boolean;
  contractPeriod?: string;
  depositLabel?: string; // 임차금액 라벨
  tenantType?: string;
  residentNote?: string;
  closedAt?: string; // 거래완료날짜
  agentMemo?: string; // 담당자MEMO
  specialNote?: string; // 특이사항
  reregisterReason?: string;
}
```

### 13) 상호작용 상태(프론트 상태 트리)

```ts
interface ListPageState {
  filters: {
    kind?: ListingKind | 'ALL';
    dealType?: DealType | 'ALL';
    status?: ListingStatus | 'ALL';
    query?: string; // 검색어
  };
  sort: Array<{ key: keyof ListingRow; direction: 'asc' | 'desc' }>;
  pagination: { cursor?: string; page?: number; pageSize: number; hasMore: boolean };
  rows: ListingRow[];
  selectedId?: string;
  detail?: ListingDetail | null;
  loading: boolean;
  error?: string;
}
```

### 14) 접근성/사용성 포인트

- 배지에 텍스트 대비 확보(명도 대비 4.5:1 권장)
- 헤더 고정 + 세로 스크롤 지원
- 키보드 내비게이션(행 이동/열림/닫기)
- 스크린 리더 레이블: 배지/아이콘에 aria-label 제공
- 대용량 리스트 최적화: 가상 스크롤 또는 페이지네이션

### 15) 구현 체크리스트

- 필터 3종(매물종류/거래유형/매물상태) + 정렬/검색 컨트롤 위치 및 동작 일치
- 컬럼 순서/라벨/포맷 일치(금액·면적·층수 포맷터 포함)
- 배지 색상 체계 일관성(상태·종류·유형별)
- 행 클릭 시 우측 디테일 패널 슬라이드 인 및 독립 스크롤
- 디테일 필드 세트 매핑 및 결측치 표시(`-` 또는 `X`)
- URL 동기화(url query)로 새로고침 복원 및 공유 가능

### 16) 현재 코드와의 간극(요약 가이드)

- 리스트 뷰: 컬럼 수와 배지 스타일, 금액/면적 포맷, 층수 표기까지 맞춰야 함
- 상단 툴바: 3개 드롭다운 + Filter/Sort/검색 아이콘의 배치 고정
- 디테일 패널: 필드 라벨/순서/`X` 표기 관례 재현 필요
- 데이터 스키마: 금액은 라벨 기반 파생 표시가 많아 단일 숫자 필드만으로는 부족 → 라벨/원시값 병행 저장 권장

---

본 분석을 기준으로 컴포넌트 구조와 타입 정의를 정리했으며, 다음 단계에서 실제 `web/src/components/` 내 `FiltersPanel`, `PropertyTable`, `PropertyDetail`를 해당 사양에 맞게 정렬/필터/디테일 구조로 보강하면 됩니다.


